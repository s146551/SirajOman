<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"> </script>
  <title>Document</title>
  
  <script>
    function Location(place, tourist_attractions, nature_activities) {
      this.place = place || '';
      this.tourist_attractions = tourist_attractions || '';
      this.nature_activities = nature_activities || '';
    }

    var locations = [
      new Location('Deserts','Sharqiyah Sands','Camping'),
      new Location('Deserts','Wahiba Sands','Camel rides'),

      new Location('Mountains','Jebel Shams','Camping'),
      new Location('Mountains','Jebel Akhdar','Hiking'),
      new Location('Mountains','Jabal Samhan','Photo shoot'),
      
      new Location('Wadis','Wadi Bani Khalid','Swimming'),
      new Location('Wadis','Wadi Shab','Hiking trails'),

      new Location('Beaches and Islands','Daymaniyat Islands',"Diving"),
      new Location('Beaches and Islands','Sawadi Beach','Marine life'),
      new Location('Beaches and Islands','Qurum Beach',"Swimming"),

    ];


    function getLocations(list) {
      if (typeof list === 'undefined') {
        list = locations;
      }

      var container = document.getElementById('locationsContainer');
      if (!container) {
        return;
      }
      container.innerHTML = '';


      var by_place = {};
      for (var i = 0; i < list.length; i++) {
        var loc = list[i];
        var key = loc.place || 'unknown';
        if (!by_place[key]) by_place[key] = [];
        by_place[key].push(loc);
      }

      
      var placeKeys = Object.keys(by_place);    // i got this method from https://www.w3schools.com/jsref/jsref_object_keys.asp
      for (var j = 0; j < placeKeys.length; j++) {
        var thePlace = placeKeys[j];
        var rows = by_place[thePlace];
        for (var r = 0; r < rows.length; r++) {
          var locItem = rows[r];

          var isLast = false;
          if (r === rows.length - 1) {
            isLast = true;
          }

          var place_col;
          if (r === 0) {
            place_col = '<div class="col-md-4 fw-bold">' + thePlace + '</div>';
          } else {
            place_col = '<div class="col-md-4"> </div>';
          }

          var tourist_attractions_text = '';
          if (locItem.tourist_attractions) {
            tourist_attractions_text = locItem.tourist_attractions;
          }
          var tourist_attractions_col = '<div class="col-md-4">' + tourist_attractions_text + '</div>';

          var nature_activities_text = '';
          if (locItem.nature_activities) {
            nature_activities_text = locItem.nature_activities;
          }
          var nature_activities_col = '<div class="col-md-4">' + nature_activities_text + '</div>';

          if(r == rows.length-1){
            var full_row = '<div class="row text-center mb-3 border-bottom">' + place_col + tourist_attractions_col + nature_activities_col + '</div>';
          }
          else{
            var full_row = '<div class="row text-center mb-3 ">' + place_col + tourist_attractions_col + nature_activities_col + '</div>';
          }

          container.insertAdjacentHTML('beforeend', full_row);
        }
      }
    }


    function addLocation() {
      var place_value = document.getElementById('placeInput');
      var tourist_attractions_value = document.getElementById('attractionInput');
      var nature_activities_value = document.getElementById('activitieInput');
      if (!place_value || !tourist_attractions_value || !nature_activities_value) {
        return;
      }

      var thePlace = place_value.value;
      var theTouristAttractions = tourist_attractions_value.value;
      var theNatureActivities = nature_activities_value.value;

      if (!thePlace) {
        alert('please enter a place');
        place_value.focus();
        return;
      }
      if (!theTouristAttractions) {
        alert('please enter a Tourist Attractions');
        tourist_attractions_value.focus();
        return;
      }
      if (!theNatureActivities) {
        alert('Please enter an Nature Activitie');
        nature_activities_value.focus();
        return;
      }

      locations.push(new Location(thePlace, theTouristAttractions, theNatureActivities));
      getLocations();
      var addValues = document.getElementById('addValues');
      if (addValues) {
        addValues.reset();
      }
      place_value.focus();
    }



    function searchLocations() {
      var input = document.getElementById('searchInput');
      var input_value = input.value;
      var term = input_value.trim().toLowerCase();
      if (!term) { 
        getLocations();
        return;
        }

      var filtered = [];
      for (var i = 0; i < locations.length; i++) {
        var loc = locations[i];

        var match = false;
        
        if (loc.place.toLowerCase().indexOf(term) !== -1){
          match = true;
        }

        if (loc.tourist_attractions.toLowerCase().indexOf(term) !== -1){
          match = true;
        }

        if (loc.nature_activities.toLowerCase().indexOf(term) !== -1) {
          match = true;
        }

        if (match) {
          filtered.push(loc);
        }
      }
      getLocations(filtered);
    }


    window.onload = function() {
      getLocations();

      var search_button = document.getElementById('searchBtn');
      var reset_button = document.getElementById('resetBtn');
      var searchInput = document.getElementById('searchInput');

      if (search_button) {
        search_button.onclick = function() { 
          searchLocations(); 
        };
      }

      if (reset_button) {
        reset_button.onclick = function() {
          if (searchInput) {
            searchInput.value = '';
          }
          getLocations();
        };
      }

      if (searchInput) {
        searchInput.onkeydown = function(element) {
          if (element.key === 'Enter') {
            if (element.preventDefault) {
              element.preventDefault();
            }
            searchLocations();
          }
        };
      }

      var add_ID = ['placeInput','attractionInput','activitieInput'];
      for (var j = 0; j < add_ID.length; j++) {
        var value = document.getElementById(add_ID[j]);
        if (!value) {
          continue;
        }
        value.onkeydown = function(element) {
          if (element.key === 'Enter') {
            if (element.preventDefault) {
              element.preventDefault();
            }
            addLocation();
          }
        };
      }
    };

  </script>
</head>
<body>

  <header>
      <div class="header-container">
          <div class="logo">
              <a href="index.html">Siraj Oman</a>
          </div>
          <nav>
              <ul>
                  <li><a href="index.html">Home</a></li>
                  <li><a href="page1.html">Locations & Places</a></li>
                  <li><a href="page2.html">Activities in Oman</a></li>
                  <li><a href="page3.html">Add a Location</a></li>
                  <li><a href="page4.html">Oman's Natural Wonders</a></li>
                  <li><a href="page5.html">Your Opinion</a></li>
                  <li><a href="about.html">About</a></li>
                  <li><a href="contact.html">Contact</a></li>
              </ul>
          </nav>
      </div>
  </header>
  
  <div class="container mb-5">

    <h2 class="text-center mb-4 fw-bold">Top Nature Activities in Oman</h2>
    <p class="text-center mb-4 fs-5"> This about exploring the enchanting nature of oman including deserts, wadis, caves, beaches and mountens</p>

    <div class="row mb-2">
          <input id="searchInput" class="form-control form-control-sm mb-2" placeholder="Search Place, Tourist attractions or Top Nature Activities">
          <button class="btn btn-sm btn-outline-warning  mb-2" id="searchBtn">Search</button>
          <button class="btn btn-sm btn-outline-danger mb-5" id="resetBtn">Reset</button>
      </div>

      <div class="col">
        <form id="addValues" class="row" onsubmit="event.preventDefault(); addLocation();">
          <div class="col-4">
            <input id="placeInput" class="form-control" placeholder="Place" required>
          </div>
          <div class="col-4">
            <input id="attractionInput" class="form-control" placeholder="Tourist attractions" required>
          </div>
          <div class="col-4 ">
            <input id="activitieInput" class="form-control" placeholder="Nature Activities" required>
          </div>
          <button class="btn btn-sm btn-outline-primary mt-2" type="submit">Add</button>
        </form>
      </div>
    </div>

    <div class=" container bg-light">
      <div class="row bg-secondary text-white text-center mb-5 mt-2 fw-bold">
        <div class="col-md-4">Place</div>
        <div class="col-md-4">Tourist attractions in Oman</div>
        <div class="col-md-4">Top Nature Activities</div>
      </div>

      <div id="locationsContainer"></div>
    </div>
  </div>
  

  <footer>
    <p>&copy; 2025 Siraj Oman | <a href="index.html" style="color: #f39c12;">Home</a> | <a href="contact.html" style="color: #f39c12;">Contact</a> | <a href="about.html" style="color: #f39c12;">About</a></p>
  </footer>
</body>
</html>

